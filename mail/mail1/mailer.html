<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
</head>

<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td align="center" valign="top" bgcolor="#C94F4F" style="background-color:#C94F4F;"><br>
    <br>
    <table width="600" border="0" align="center" cellpadding="0" cellspacing="0">
      <tr>
        <td align="center" valign="top" bgcolor="#fedd02" style="background-color:#FFF94F; padding:6px;"><table width="100%" border="0" cellspacing="0" cellpadding="10" style="margin-bottom:2px; font-size: 36px; font-family: Georgia, 'Times New Roman', Times, serif;">
          <tr>
            <td height="66" align="left" valign="top"><p><strong>PROTO-LOAD</strong></p></td>
          </tr>
        </table>
          <table width="100%" border="0" cellspacing="0" cellpadding="5" style="margin-bottom:20px;">
            <tr>
              <td width="50%" align="left" valign="top" bgcolor="#000000" style="background-color:#000000; color:#ffffff; font-family:Verdana, Geneva, sans-serif; font-size:11px;">&nbsp;&nbsp;Arduino with Load Cells </td>
              <td align="right" valign="top" bgcolor="#000000" style="background-color:#000000; color:#ffffff; font-family:Verdana, Geneva, sans-serif; font-size:11px;">Test Project&nbsp;&nbsp;</td>
            </tr>
          </table>
          <table width="100%" border="0" cellspacing="0" cellpadding="10" style="margin-bottom:10px;">
            <tr>
              <td align="left" valign="top" style="color:#000000; font-family:Arial, Helvetica, sans-serif; font-size:38px;">Thread page...</td>
              </tr>
          </table>
          <table width="100%" border="0" cellspacing="0" cellpadding="0" style="margin-bottom:10px;">
            <tr>
              <td align="center" valign="top"><img src="images/divider1.png" width="100%" height="5" style="display:block;"></td>
            </tr>
          </table></td>
      </tr>
      <tr>
        <td align="center" valign="top" bgcolor="#fedd02" style="background-color:#FFF94F; padding:6px;"><table width="100%" border="0" cellspacing="0" cellpadding="0">
          <tr>            
            <td align="left" valign="top"><table width="97%" border="0" align="center" cellpadding="0" cellspacing="7" style="margin-bottom:10px;">
              <tr>
                <td width="100%" height="943" align="left" valign="top" style="font-family:Arial, Helvetica, sans-serif; color:#000000; font-size:13px;">
                <div style="font-size:22px;">Things required...</div>
<div>
  <ul>
    <li>      Arduino UNO v2 or v3</li>
    <li>Display LCD ( to show data then and there )</li>
    <li>3 LM741 or INA125, to provide instrumentation amplification for high gain and low noise.</li>
    <li>Few resistors and capacitors of various general values.(need to revisit before using them).</li>
    <li>Load Cell arrangement.</li>
    <li>Any load cell arrangement we can take for a prototype or demo purpose.</li>
    <li>Quater bridge or half bridge, which ever is readily available.</li>
    <li>Preffered material for placing load cell is aluminium, see the stress and strain curve of aluminum.</li>
    <li>Please take a look at this <a href="http://www.sunrom.com/118">link</a>.</li>
    <li>The above link is barebone readymate load cell arrangement with aluminum beam, over which the full bridge load cell is placed well, along with that things to do are also illustrated there on that link.</li>
    <li>9-12 V Adapter to power up arduino.</li>
    <li>Female to female hookup wires to wire up the circuit.</li>
    <li>Breadboard.</li>
    </ul>
  <p>With above mentioned things, we can setup a barebone load cell with arduino, which will be loosely coupled.</p>
  <p>Please take a look on the picture below.</p>
  <p><img src="https://github.com/pixma/protoLoad/blob/master/fritzingFiles/protoload_fritzing_bb.png?raw=true" width="750" height="550" alt="fritzingCut1"></p>
  <p>This way, our arrangement will appear. The circuit ate tested by other. you can find some of the reference <a href="http://morf.lv/modules.php?name=tutorials&lasit=19">here</a>. Bill of material is required to be generated, once it is been visted. Also before generating, a short and very qucik re vist of the same is required.</p>
  <p><br>
    <br>
  </p>
</div></td>
              </tr>
            </table>
              <table width="100%" border="0" cellspacing="0" cellpadding="0" style="margin-bottom:10px;">
                <tr>
                  <td align="center" valign="top"><img src="images/right_divider.png" width="100%" height="10" style="display:block;"></td>
                </tr>
              </table>
              <table width="97%" border="0" align="center" cellpadding="0" cellspacing="7" style="margin-bottom:10px;">
                <tr>
                  <td align="left" valign="top" style="font-family:Arial, Helvetica, sans-serif; color:#000000; font-size:13px;"><div style="font-size:16px;"><b>Sophisticated way</b> - generate few PCBs.</div>
                    <div>
                      <ul>
                        <li>Get few PCB board of the same.</li>
                        <li>Get the readymate load cell with aluminium beam.</li>
                        <li>Attacht 4 wire to the PCB and 12 V power adapter.</li>
                        <li>That will do.</li>
                        <li>Please take a look on PCB for now which is un routed, developed on cadsoft's Eagle CAD.</li>
                        </ul>
                      <p><img src="https://github.com/pixma/protoLoad/blob/master/eagleFiles/protoLoad_schematicsImage.png?raw=true" width="650" height="450" alt="schematics"></p>
                      <p>Also, please take a look on unrouted pcb board for now.</p>
                      <p><center>
                        <p><img src="https://github.com/pixma/protoLoad/blob/master/eagleFiles/protoLoadImageBrd.png?raw=true" alt="boardImage" width="319" height="322"></p> </center>
                        <p>Board -</p>
                        <ul>
                          <li>Board surface mounted device shall be used.</li>
                          <li>2 x 2 inch board, such a small, and over this, or say this board will be under LCD.</li>
                          <li>Such smd part can be bought, assembled, once instructed to pcb warehouse for doing the same. Hence, no labour work in our end. Only we have to program the atmega.</li>
                          <li>What this board is a barebone portion of arduino with cutting edge cost comparative to arduino.</li>
                          <li>This board has, atmega168 with usb, dc jack, amplification circuit connected to Analog 0, LCD for displaying.</li>
                          <li>It can be converted to development board by providing pin header for rest of the atmega pins.</li>
                          </ul>
                        <p>This, also required to revist before freezing it.</p>
                     </p>
                    </div></td>
                </tr>
              </table>
              <table width="100%" border="0" cellspacing="0" cellpadding="0" style="margin-bottom:10px;">
                <tr>
                  <td align="center" valign="top"><img src="images/right_divider.png" width="100%" height="10" style="display:block;"></td>
                </tr>
              </table>
              <table width="97%" border="0" align="center" cellpadding="0" cellspacing="7" style="margin-bottom:10px;">
                <tr>
                  <td align="left" valign="top" style="font-family:Arial, Helvetica, sans-serif; color:#000000; font-size:13px;"><div style="font-size:16px;"><b>Program - Firmware</b></div>
                    <div>
                      <p>&nbsp;</p>
                      <p>Program on arduino or on atmega168/328, sketch.pde.</p>
                      <div style="padding-left:50px; ;background-color:#999; font-size:12px; font-family:Verdana, Geneva, sans-serif; border:#000 2px solid;">
                        <p>&nbsp;</p>
                        <p>//////////////////////////////////////////////////////////////<br>
                          //<br>
                          //  define macros here<br>
                          //<br>
                          #ifndef WITH_LCD<br>
                          #define WITH_LCD 1<br>
                          #endif<br>
                          #ifndef WITH_SERIAL<br>
                          #define WITH_SERIAL 1<br>
                          #endif<br>
                          //////////////////////////////////////////////////////////////<br>
                          //<br>
                          //  define macros end here<br>
                          //
                        </p>
                        <p>#if defined( WITH_LCD )<br>
                          #include &lt;LiquidCrystal.h&gt;<br>
                          #endif</p>
                        <p>#define AVG_COUNT 10</p>
                        <p>//LiquidCrystal lcd( RS, EN, D4, D5, D6, D7); of lcd to MCU/ Arduino<br>
                          LiquidCrystal lcd( 1, 2, 3, 4, 5, 6);</p>
                        <p>//getWeight() function<br>
                          int totalValue = 0;<br>
                          int tearValue = 0;<br>
                          int getWeight()<br>
                          {<br>
                          <br>
                          for(unsigned char i = 0; i&lt;AVG_COUNT; i++)<br>
                          {<br>
                          totalValue += analogRead(A0);<br>
                          delay(10);        // delay in between reads for stability<br>
                          }<br>
  <br>
                          totalValue = (totalValue / AVG_COUNT) - tearValue; <br>
  <br>
                          return -totalValue;// need to revist the code at this point.<br>
                          }<br>
  <br>
                          //resetTear() function<br>
                          void resetTear()<br>
                          {<br>
                          int total = 0;<br>
                          for(unsigned char i = 0; i&lt;AVG_COUNT; i++)<br>
                          {<br>
                          total += analogRead(A0);<br>
                          delay(10);        // delay in between reads for stability<br>
                          }<br>
                          total /= AVG_COUNT;<br>
                          tearValue = total;<br>
                          }</p>
                        <p>void setup(){<br>
                          <br>
                          #if defined(WITH_SERIAL)<br>
                          Serial.begin(9600);<br>
                          Serial.println(&quot;ProtoLoad Started...&quot;);<br>
                          #endif<br>
  <br>
                          #if defined( WITH_LCD)<br>
                          lcd.begin(16, 2 );<br>
                          lcd.clear();<br>
                          lcd.setCursor(5, 0);<br>
                          lcd.print(&quot;ProtoLoad&quot;);<br>
                          delay( 5000 );<br>
                          #endif<br>
  <br>
                          resetTear(); <br>
                          }</p>
                        <p>void loop(){<br>
                          <br>
                          #if defined(WITH_SERIAL) <br>
                          Serial.println(&quot;Weight: &quot; + getWeight());<br>
                          //code need to be revisted here, for unit and quantity correctness check.<br>
                          #endif<br>
  <br>
                          #if defined(WITH_LCD)<br>
                          lcd.println(&quot;Weight: &quot;);<br>
                          lcd.print(getWeight());<br>
                          //code need to be revisted here, for unit and quantity correctness check.<br>
                          delay( 1000 );<br>
                          #endif<br>
                          }<br>
                        </p>
                      </div>
                      <p>The above code is not tested yet, bbut written with assumptions of incoming data from load cell. The calculation of converting sense data from load cell to Kg is required and also left. but a skeleton is ready. Writtten on Arduino IDE for now.</p>
                    </div></td>
                </tr>
            </table></td>
          </tr>
        </table></td>
      </tr>
    </table>
    <br>
    <br></td>
  </tr>
</table>
</body>
</html>
